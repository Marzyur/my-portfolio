(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{609:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return h}));var n=o(0),a=o.n(n),i=o(35),r=o(1),s=o(6);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=f(e);if(t){var a=f(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return p(this,o)}}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(p,e);var t,o,n,l=m(p);function p(e,t){var o,n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),o=l.call(this,e,t),n=d(o),i=function(){window.location=s.c[r.G.index]},(a="onClick")in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,o}return t=p,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"oops-panel-wrapper"},a.a.createElement("div",{className:"oops-header"},a.a.createElement(i.a,{hideHamburgerIcon:!0})),a.a.createElement("div",{className:"oops-panel-container"},a.a.createElement("div",{className:"oops-panel-background"},a.a.createElement("div",{className:"oops-panel-background-text"},"404")),a.a.createElement("div",{className:"oops-panel-text-section"},a.a.createElement("div",{className:"oops-panel-title"},"Oops! Page not found..."),a.a.createElement("div",{className:"oops-panel-subtitle"},"We’re unable to find the page you’re looking for."),a.a.createElement("button",{onClick:this.onClick,className:"button button-primary"},"Go Home"))))}}])&&c(t.prototype,o),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(n.Component)},610:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return X}));var n=o(0),a=o.n(n),i=o(595),r=o.n(i),s=o(35),l=o(7),c=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button  button-primary"),onClick:o},a.a.createElement(l.e,{colorClass:"icon"}))},u=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},a.a.createElement(l.c,{colorClass:"icon"}))},m=o(85),p=o(115),d=o.n(p),f=o(1),h=function(e){var t=e.state.selectedSkin,o=e.state.skins.filter((function(e){return e.skinCD==t}));return a.a.createElement("div",{className:"template-preview"},a.a.createElement("figure",{className:"svg-skin"},a.a.createElement(a.a.Fragment,null,o[0].html&&a.a.createElement("div",{className:e.state.showPreviewLoader?"d-none":"",dangerouslySetInnerHTML:{__html:o[0].html}}),e.state.showPreviewLoader&&a.a.createElement("div",{className:"loading-skin"},a.a.createElement("div",{className:"loading-skin-icon"},a.a.createElement(l.K,null))))),!e.hideCrossIcon&&a.a.createElement("div",{onClick:e.onCrossIconClick,className:"close-icon"},a.a.createElement("button",null,a.a.createElement(l.n,null))))},v=o(350),k=o.n(v),y=o(4),g=function(e){return a.a.createElement("div",{className:"modal-body"},a.a.createElement(k.a,Object(y.x)(e,e.state.formatSelection)))},S=function(e){return a.a.createElement("div",{className:"modal-body"},a.a.createElement("span",{className:"modal-title"},BLDR.Localization.resumeOptionsPopupHeading),a.a.createElement("div",{className:"emailprintdownload-links"},a.a.createElement("a",{onClick:e.openDownloadFormatPopup,className:"epdlink downloadlink active"},a.a.createElement(l.r,null),BLDR.Localization.downloadText),a.a.createElement("a",{onClick:e.onPrintClick,className:"epdlink printlink"},a.a.createElement(l.O,null),BLDR.Localization.printText),a.a.createElement("a",{onClick:e.openEmailPopup,className:"epdlink emaillink"},a.a.createElement(l.E,null),BLDR.Localization.emailText)))},b=o(114),w=o.n(b),D=function(e){return a.a.createElement("div",{className:"email-popup-body"},a.a.createElement(w.a,Object(y.y)(e,e.state.emailTo)),a.a.createElement(w.a,Object(y.y)(e,e.state.emailFrom)),a.a.createElement(w.a,Object(y.y)(e,e.state.emailSubject)),a.a.createElement("div",{className:"email-popup-body-body form-lg form-fields"},a.a.createElement("span",null,BLDR.Localization.emailBodyLabetText),a.a.createElement("textarea",{name:"emailBody",className:"email-body form-lg form-fields",onChange:e.txtOnChange,value:e.state.emailBody,placeholder:BLDR.Localization.emailBodyPlaceholder})))},C=function(e){return a.a.createElement("div",{className:"email-success-popup-body"},a.a.createElement("div",{className:"check-div"},a.a.createElement(l.F,null),"  "),a.a.createElement("div",{className:"email-popup-success-title title"},a.a.createElement("h2",null,BLDR.Localization.emailSentText)),a.a.createElement("p",{className:"success-text"},a.a.createElement("span",null,BLDR.Localization.emailSuccessMessageText)),a.a.createElement("button",{className:"close-btn",onClick:e.closeEmailSentPopup},BLDR.Localization.closeText))};function P(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function L(e){var t=BLDR.UserClaims&&"Guest"!=BLDR.UserClaims.role,o=e.displayDesktopView?B:T,n=e.displayDesktopView?[{breakpoint:1200,settings:{slidesToShow:1}}]:[{breakpoint:768,settings:{arrows:!1}}],i={centerMode:!0,centerPadding:e.displayDesktopView?"90px":"30px",dots:!1,slidesToScroll:1,arrows:!0,infinite:!1,slidesToShow:e.displayDesktopView?3:1,focusOnSelect:!0,swipeToSlide:!0,variableWidth:!e.displayDesktopView,nextArrow:a.a.createElement(c,null),prevArrow:a.a.createElement(u,null),responsive:n,beforeChange:function(t,o){e.beforeChange(t,o)}};return a.a.createElement("div",{className:"builder-end-panel-panel"},a.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-panel-header")},a.a.createElement(s.a,{toggleNav:e.toggleSidenav,hideHamburgerIcon:!0,hideLoginIcon:!t,showColorFormattingOptions:!0,selectedColor:e.skinColor,formattingOptionSelected:e.formattingOptionSelected,onColorClick:e.onSkinColorClick,onFormattingOptionClick:e.onFormattingOptionClick,onDownloadClick:e.openDownloadFormatPopup,onEmailClick:e.openEmailPopup,onPrintClick:e.onPrintClick})),a.a.createElement(m.a,N({},e,{isFinalize:!0,showAsModal:!0,toggleNav:e.toggleSidenav,toggleClass:e.state.showNav?"open":"closed",renderModalItemProps:e,showToolTip:!BLDR.IsMobileDevice()&&e.state.showEditMyResumeToolTip,renderToolTipHtml:R,onToolTipClose:e.onEditMyResumeToolTipClose,renderModalItem:BLDR.IsMobileDevice()||BLDR.isIPAD()||!e.state.showNav?void 0:O})),a.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-slider-panel")},!e.displayDesktopView&&a.a.createElement("h1",{className:"finalize-page-title"},BLDR.Localization.finalizeHeadingText),a.a.createElement("div",{className:"builder-slider"},a.a.createElement("div",{className:"template-selector-fade-out"}),a.a.createElement(r.a,N({ref:function(t){return e.assignRef("slider",t)}},i,{className:"finalize-slick"}),e.state.skins&&e.state.skins.length>0&&o(e)))),e.state.showPopup&&a.a.createElement(d.a,N({isOpen:!0},e.getPopupProps(e.state.popupName,e)),function(e,t){var o=null;switch(e){case f.P.resumePreview:o=O(t,!0);break;case f.P.downloadFormat:o=a.a.createElement(g,t);break;case f.P.mobileResumeOptions:o=a.a.createElement(S,t);break;case f.P.email:o=a.a.createElement(D,t);break;case f.P.emailSent:o=a.a.createElement(C,t)}return o}(e.state.popupName,e)),a.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-footer")},a.a.createElement("button",{className:"button button-default",onClick:e.toggleSidenav},e.isUpdatedBuilderExp?a.a.createElement(l.u,{colorClass:"icon"}):a.a.createElement(l.t,{colorClass:"icon"}),"Edit ",a.a.createElement("span",{className:"d-none-sm"},"  ",BLDR.Localization.resume_Text)),a.a.createElement("button",{className:"button button-primary",onClick:e.onNextClick},a.a.createElement(l.v,null),e.isUpdatedBuilderExp?BLDR.Localization.save_And_Continue_Text:BLDR.Localization.saveAndNextText)))}function O(e,t){return a.a.createElement(h,N({},e,{hideCrossIcon:t,onCrossIconClick:t?null:e.closeResumePreviewPopup}))}function R(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",null,BLDR.Localization.editMyResumeToolTipHeading),a.a.createElement("p",null,BLDR.Localization.editMyResumeToolTipBody))}function T(e){var t=e.state.skins,o=e.state.selectedSkin;return t.map((function(t,n){return a.a.createElement("div",{className:"skin-wrapper",key:n,"skin-cd":t.skinCD},a.a.createElement("div",{className:"skin-template"},a.a.createElement("div",{className:"skin-title"},t.name),a.a.createElement("div",{className:"template-label"},a.a.createElement("div",{className:"label-wrapper"},a.a.createElement("span",{className:"label-prefix"},BLDR.Localization.availableText),a.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),a.a.createElement("div",{className:"skin-image-prev",onClick:t.skinCD==o&&t.html?e.openResumePreviewPopup:null},t.skinCD!=o?a.a.createElement(l.Z,null):a.a.createElement(a.a.Fragment,null,t.html&&a.a.createElement("div",{className:"skin-container ".concat(e.state.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),e.state.showLoader&&a.a.createElement("div",{className:"loading-skin"},a.a.createElement("div",{className:"loading-skin-icon"},a.a.createElement(l.K,null))))),a.a.createElement("div",{className:"skin-desc"},a.a.createElement("p",null,t.description))))}))}function B(e){var t=P(e.state.skins),o=e.state.selectedSkin;return t.push({}),t.push({}),t.map((function(t,n){return n<=e.state.skins.length-1?a.a.createElement("div",{className:"skin-wrapper",key:n,"skin-cd":t.skinCD},a.a.createElement("div",{className:"skin-template"},a.a.createElement("div",{className:"skin-title"},t.name),a.a.createElement("div",{className:"template-label"},a.a.createElement("div",{className:"label-wrapper"},a.a.createElement("span",{className:"label-prefix"},BLDR.Localization.availableText),a.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),a.a.createElement("div",{className:"skin-image-prev"},a.a.createElement("div",{className:"skin-ctnr-overlay",onClick:t.skinCD==o&&t.html?e.openResumePreviewPopup:null}),a.a.createElement("span",{className:"icon-zoom"}," ",a.a.createElement(l.cb,null)),a.a.createElement(a.a.Fragment,null,t.html&&a.a.createElement("div",{className:"skin-container ".concat(t.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),t.showLoader&&a.a.createElement("div",{className:"loading-skin"},a.a.createElement("div",{className:"loading-skin-icon"},a.a.createElement(l.K,null))))))):a.a.createElement("div",{key:n})}))}var F=o(47),I=o.n(F),U=o(2),x=o(6);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function A(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?A(Object(o),!0).forEach((function(t){K(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):A(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function H(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return J(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function V(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=$(e);if(t){var a=$(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return G(this,o)}}function G(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(r,e);var t,o,n,i=q(r);function r(e,t){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),K(Y(o=i.call(this,e,t)),"assignRef",(function(e,t){null!=t&&(o.refObj[e]=t)})),K(Y(o),"setResumePreviewDimension",(function(e,t,n){setTimeout((function(){var a=t||document.getElementById("document"),i=e||document.querySelector(".skin-container"),r=document.querySelector(".cancel-handler .template-preview"),s=0;s="MLG4"==o.state.selectedSkin?50:"MLG5"==o.state.selectedSkin?6:"MLN4"==o.state.selectedSkin?20:0,a&&i&&(o.setState(n?{showPreviewLoader:!1}:{showLoader:!1},(function(){var e=i.offsetWidth/a.offsetWidth;a.style.transform="scale(".concat(e,")"),a.style.transformOrigin="0 0"})),setTimeout((function(){if(r){var e=a.offsetHeight*(i.offsetWidth/a.offsetWidth);r.style.height="".concat(e+s,"px")}}),500))}),300)})),K(Y(o),"getSkinsObject",(function(){var e=[],t=BLDR.Skins;return t&&t.length>0&&t.map((function(t){e.push({skinCD:t.skinCD,html:"",name:t.name,description:t.description,showLoader:!0})})),e})),K(Y(o),"toggleSidenav",(function(e){if(o.props.commonActions.SetCommonSetting(f.ab.fromFinalize,!0),o.state.showNav){if(e&&e.target)if(y.E(e.target,"svg-skin"))return;o.setState({showNav:!1,showEditMyResumeToolTip:!1}),o.props.commonActions.RemoveSettingName(f.ab.showSideNav),document.querySelector(".cancel-handler").scrollTop=0}else{o.props.commonActions.SetCommonSetting(f.ab.showSideNav,!0);var t="1"===y.C(f.f.EditResumeViewed);o.setState({showNav:!0,showPreviewLoader:!0,showEditMyResumeToolTip:!t},(function(){t||BLDR.IsMobileDevice()||o.props.userActions.SaveUserPreference(o.user.UserUID,f.f.EditResumeViewed,"1",BLDR.PortalSettings.ConfigurePortalCd),setTimeout((function(){var e=document.querySelector(".svg-skin"),t=document.querySelector(".svg-skin #document")?document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}),1)}))}})),K(Y(o),"onNextClick",(function(e){if(e.preventDefault(),BLDR.IsMobileDevice())o.openResumeOptionsPopup();else if(null!=o.state.isPremiumUser&&null!=o.state.isPremiumUser){var t="";"guest"==o.user.Role.toLowerCase()?(t=x.c[f.G.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id),o.props.history.push(t)):(t=o.state.isPremiumUser?BLDR.Paths.BaseUrl:BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id,setTimeout((function(){window.location.href=t}),10))}})),K(Y(o),"beforeChange",(function(e,t){var n=o.state.skins[t].skinCD,a=o.state.skins.findIndex((function(e){return e.skinCD==o.state.selectedSkin})),i=o.getSelectedFormattingOption(),r=!1;o.displayDesktopView||e==t||i===f.db.default||(r=!0),setTimeout((function(){o.setState({selectedSkin:n}),r&&o.setState({skins:I()(o.state.skins,K({},a,{$merge:{html:""}}))})}),100)})),K(Y(o),"openResumePreviewPopup",(function(e){e&&e.stopPropagation(),o.setState({showPopup:!0,popupName:f.P.resumePreview,showPreviewLoader:!0},(function(){setTimeout((function(){var e=document.querySelector(".svg-skin"),t=document.querySelector(".svg-skin #document")?document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}),10)}))})),K(Y(o),"closeResumePreviewPopup",(function(){o.setState({showPopup:!1,popupName:""}),o.props.commonActions.RemoveSettingName(f.ab.showSideNav)})),K(Y(o),"setMobileTemplate",(function(e){o.setState({showLoader:!0});var t=o.state.skins.findIndex((function(t){return t.skinCD==e})),n=o.state.skins[t].html,a=JSON.parse(JSON.stringify(o.props.document)),i=o.getColorForColorSelector(),r=o.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var t=y.S(a,e);t=y.N(t,f.eb.SDCL,i,BLDR.getTemplateFromSkin),t=o.updateDocumentWithFormatOptions(t,e,r),n?(o.props.documentActions.UpdateDocument(o.user.UserUID,t),o.setState({selectedSkin:e},(function(){setTimeout((function(){o.setResumePreviewDimension()}),1)}))):o.updateDocumentAndGetLatestHtml(t)}))})),K(Y(o),"setMultipleDesktopTemplates",(function(e,t,n,a,i,r){var s=o.state.skins.findIndex((function(t){return t.skinCD==e}));!n||null==a&&null==a?!i||null==r&&null==r?o.setDesktopTemplate(e,t):o.setDesktopTemplateWithFormattingOption(e,r):o.setDesktopTemplateWithSkinColor(e,a);for(var l=s>=2?s-2:0,c=s>=2?s+2>BLDR.Skins.length-1?BLDR.Skins.length-1:s+2:4,u=l;u<=c;u++)s!=u&&(!n||null==a&&null==a?!i||null==r&&null==r?o.setDesktopTemplate(BLDR.Skins[u].skinCD):o.setDesktopTemplateWithFormattingOption(BLDR.Skins[u].skinCD,r):o.setDesktopTemplateWithSkinColor(BLDR.Skins[u].skinCD,a));setTimeout((function(){var e=H(BLDR.Skins);e.splice(l,c-l+1);var t,s=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=W(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw i}}}}(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;!n||null==a&&null==a?!i||null==r&&null==r?o.setDesktopTemplate(u.skinCD):o.setDesktopTemplateWithFormattingOption(u.skinCD,r):o.setDesktopTemplateWithSkinColor(u.skinCD,a)}}catch(e){s.e(e)}finally{s.f()}}),3e3),window.addEventListener("resize",o.rescaleVisibleSkins)})),K(Y(o),"setDesktopTemplate",(function(e){var t=o.state.skins.findIndex((function(t){return t.skinCD==e})),n=o.state.skins[t].html,a=JSON.parse(JSON.stringify(o.props.document)),i=o.getColorForColorSelector(),r=o.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var s=y.S(a,e);if(s=o.updateDocumentWithFormatOptions(s,e,r),s=y.N(s,f.eb.SDCL,i,BLDR.getTemplateFromSkin),n){o.props.documentActions.UpdateDocument(o.user.UserUID,s);var l="",c="";o.state.skins&&o.state.skins.length>0&&(t-1>-1&&(l=o.state.skins[t-1].skinCD),t+1<o.state.skins.length&&(c=o.state.skins[t+1].skinCD)),o.setState({selectedSkin:e},(function(){setTimeout((function(){o.setResumeDimensionInCarousel(e,t),U.CommonHelper.isNullOrWhitespace(l)||o.setResumeDimensionInCarousel(l,t-1),U.CommonHelper.isNullOrWhitespace(c)||o.setResumeDimensionInCarousel(c,t+1)}),1)}))}else o.getLatestHtmlFromDocument(s)}))})),K(Y(o),"setDesktopTemplateWithSkinColor",(function(e,t){var n=JSON.parse(JSON.stringify(o.props.document)),a=o.getSelectedFormattingOption();if(n=y.S(n,e),a!==f.db.default){var i=o.getFormatOptionDocStyles(n,e,a);n=U.DocumentHelper.updateDocumentWithDocStyles(n,i)}n=y.N(n,f.eb.SDCL,t,BLDR.getTemplateFromSkin),e===o.state.selectedSkin&&o.props.documentActions.UpdateDocument(o.user.UserUID,n),o.getLatestHtmlFromDocument(n)})),K(Y(o),"setDesktopTemplateWithFormattingOption",(function(e,t){var n=JSON.parse(JSON.stringify(o.props.document));n=o.updateDocumentWithFormatOptions(n,e,t),e===o.state.selectedSkin&&o.props.documentActions.UpdateDocument(o.user.UserUID,n),o.getLatestHtmlFromDocument(n)})),K(Y(o),"rescaleVisibleSkins",(function(){var e=o.state.selectedSkin,t=o.state.skins.findIndex((function(t){return t.skinCD==e}));o.setResumeDimensionInCarousel(e,t);for(var n=t>=2?t-2:0,a=t>=2?t+2>BLDR.Skins.length-1?BLDR.Skins.length-1:t+2:4,i=n;i<=a;i++)t!=i&&o.setResumeDimensionInCarousel(BLDR.Skins[i].skinCD,i)})),K(Y(o),"setResumeDimensionInCarousel",(function(e,t){var n=window.document.querySelector("[skin-cd="+e+"]"),a=null==n?void 0:n.querySelector("#document"),i=null==n?void 0:n.querySelector(".skin-container");setTimeout((function(){var e=a||document.getElementById("document"),n=i||document.querySelector(".skin-container");if(e&&n){var r=I()(o.state.skins,K({},t,{$merge:{showLoader:!1}}));o.setState({skins:r},(function(){var t=n.offsetWidth/e.offsetWidth;e.style.transform="scale(".concat(t,")"),e.style.transformOrigin="0 0"}))}}),50)})),K(Y(o),"saveLatestJobTitlePreference",(function(e){var t="";if(e&&e.sections){var n=U.CommonHelper.getSectionByCD(e.sections,U.TypeCodes.sectionTypeCd.Experience);null!=n&&null!=n.paragraphs&&n.paragraphs.length>0&&n.paragraphs[0].docDatas&&n.paragraphs[0].docDatas.length>0&&(t=U.CommonHelper.getCharValue(n.paragraphs[0].docDatas,U.TypeCodes.fieldCd.JobTitle))}o.props.userActions.SaveUserPreference(o.user.UserUID,f.f.PreferenceJobtitle,t,BLDR.PortalSettings.ConfigurePortalCd)})),K(Y(o),"saveJobLocationUserPreference",(function(e){var t=U.CommonHelper.getSectionByCD(e.sections,U.TypeCodes.sectionTypeCd.Contact);if(t){var n=y.s(t);U.CommonHelper.isNullOrWhitespace(n)||o.props.userActions.SaveUserPreference(o.props.document.userId,f.f.PreferenceJobLocation,n,BLDR.PortalSettings.ConfigurePortalCd)}})),K(Y(o),"onSkinColorClick",(function(e){if(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(o.getColorForColorSelector()!=t){for(var n=JSON.parse(JSON.stringify(o.props.document)),a=JSON.parse(JSON.stringify(o.state.skins)),i=0;i<a.length;i++)U.CommonHelper.isNullOrWhitespace(a[i].html)||(a=I()(a,K({},i,{$merge:{html:""}})));o.setState({showLoader:!0,skins:a}),n=y.N(n,f.eb.SDCL,t,BLDR.getTemplateFromSkin),o.updateDocumentAndGetLatestHtml(n)}}})),K(Y(o),"onMultipleSkinsColorClick",(function(e){if(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(o.getColorForColorSelector()!=t){for(var n=JSON.parse(JSON.stringify(o.state.skins)),a=0;a<n.length;a++)U.CommonHelper.isNullOrWhitespace(n[a].html)||(n=I()(n,K({},a,{$merge:{html:"",showLoader:!0}})));o.setState({skins:n,showPreviewLoader:!0}),o.setMultipleDesktopTemplates(o.state.selectedSkin,!1,!0,t)}}})),K(Y(o),"onEditMyResumeToolTipClose",(function(){o.setState({showEditMyResumeToolTip:!1})})),K(Y(o),"onFormattingOptionClick",(function(e,t){if(e&&e.preventDefault(),t!==o.getSelectedFormattingOption()){o.setState({showLoader:!0});var n=o.updateDocumentWithFormatOptions(o.props.document,o.state.selectedSkin,t);o.updateDocumentAndGetLatestHtml(n)}})),K(Y(o),"onMultipleSkinsFormattingOptionClick",(function(e,t){if(e&&e.preventDefault(),t!==o.getSelectedFormattingOption()){for(var n=JSON.parse(JSON.stringify(o.state.skins)),a=0;a<n.length;a++)U.CommonHelper.isNullOrWhitespace(n[a].html)||(n=I()(n,K({},a,{$merge:{html:"",showLoader:!0}})));o.setState({skins:n,showPreviewLoader:!0}),o.setMultipleDesktopTemplates(o.state.selectedSkin,!1,!1,null,!0,t)}})),K(Y(o),"updateDocumentWithFormatOptions",(function(e,t,n){var a=JSON.parse(JSON.stringify(e));if(null==n&&(n=f.db.default),f.cb.find((function(e){return e.SkinCd==t}))){if(n===f.db.default||o.state.selectedSkin!=t){var i=o.getColorForColorSelector();a=y.S(a,t),U.CommonHelper.isNullOrWhitespace(i)||(a=y.N(a,f.eb.SDCL,i,BLDR.getTemplateFromSkin))}if(n!==f.db.default){var r=o.getFormatOptionDocStyles(a,t,n);a=U.DocumentHelper.updateDocumentWithDocStyles(a,r)}}return a})),K(Y(o),"getFormatOptionDocStyles",(function(e,t,o){var n=JSON.parse(JSON.stringify(e)).docStyles,a=f.cb.find((function(e){return e.SkinCd==t}))[o],i=function(e){n.find((function(t){return t.styleTypeCD==e})).value=a[e]};for(var r in a)i(r);return n})),K(Y(o),"updateDocumentAndGetLatestHtml",(function(e){var t=e.skinCD,n="",a=o.state.skins.findIndex((function(e){return e.skinCD==t})),i=o.state.skins[a].name,r=o.state.skins[a].description;o.props.documentActions.UpdateDocument(o.user.UserUID,e).then((function(e){if(e&&e.id){var s={userId:o.user.UserUID,documentId:e.id,portalId:BLDR.Portal.portalId,fileType:"oRIG"};o.props.documentActions.getHtml(s).then((function(e){if(e){var s=(new DOMParser).parseFromString(e,"text/html");s&&s.getElementById("document")&&s.getElementById("document").className&&s.getElementById("document").className.indexOf(t.toLowerCase())>-1&&(n=e);var l=I()(o.state.skins,K({},a,{$set:{skinCD:t,html:n,name:i,description:r}}));o.setState({skins:l},(function(){setTimeout((function(){if(o.setResumePreviewDimension(),o.state.showNav){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document")?window.document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}}),1)}))}}))}}))})),K(Y(o),"getLatestHtmlFromDocument",(function(e){var t="",n=e.skinCD,a=o.state.skins.findIndex((function(e){return e.skinCD==n})),i=o.state.skins[a].name,r=o.state.skins[a].description;o.props.documentActions.getDocumentHtml(e,!1).then((function(e){if(e){var s=(new DOMParser).parseFromString(e,"text/html");t=s&&s.getElementById("document")&&s.getElementById("document").className&&s.getElementById("document").className.indexOf(n.toLowerCase())>-1?e:"";var l=I()(o.state.skins,K({},a,{$merge:{skinCD:n,html:t,name:i,description:r}}));o.setState({skins:l},(function(){setTimeout((function(){if(o.setResumeDimensionInCarousel(n,a),o.state.showNav&&n===o.state.selectedSkin){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document")?window.document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}}),1)}))}}))})),K(Y(o),"getColorForColorSelector",(function(){var e=y.o(o.props.document.docStyles,f.eb.SDCL);U.CommonHelper.isNullOrWhitespace(e)||(f.r.some((function(t){return t.value.toLowerCase()==e.toLowerCase()}))||(e=""));return e})),K(Y(o),"getSelectedFormattingOption",(function(){var e=o.props.document.skinCD,t=f.db.default,n=JSON.parse(JSON.stringify(o.props.document.docStyles)),a=f.cb.find((function(t){return t.SkinCd==e}));return a&&a[f.db.small]&&y.e(a[f.db.small],n,!0)?t=f.db.small:a&&a[f.db.large]&&y.e(a[f.db.large],n,!0)&&(t=f.db.large),t})),K(Y(o),"onSelectClick",(function(e){e&&e.value&&o.setState({formatSelection:z(z({},o.state.formatSelection),{},{value:e.value})})})),K(Y(o),"txtOnChange",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailSubject":o.setState({emailSubject:z(z({},o.state.emailSubject),{},{value:t})});break;case"emailBody":o.setState({emailBody:t});break;case"emailTo":o.setState({emailTo:z(z({},o.state.emailTo),{},{value:t})});break;case"emailFrom":o.setState({emailFrom:z(z({},o.state.emailFrom),{},{value:t})})}}})),K(Y(o),"txtOnBlur",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailTo":o.validateEmailTo(t);break;case"emailFrom":o.validateEmailFrom(t)}}})),K(Y(o),"validateEmailFrom",(function(e){var t=y.cb(e,BLDR.Localization.emailToFromErrorMessage,BLDR.Localization.emailCorrectFormatErrorMessage);return o.setState({emailFrom:z(z({},o.state.emailFrom),{},{value:e,isValid:t.isValid,showError:!t.isValid,errorMessage:t.errorMessage})}),t.isValid})),K(Y(o),"validateEmailTo",(function(e){var t=!0,n="";U.CommonHelper.isNullOrWhitespace(e)?(t=!1,n=BLDR.Localization.emailToFromErrorMessage):(e.split(",").map((function(e){y.cb(e.trim()).isValid||(t=!1)})),t||(n=BLDR.Localization.emailCorrectFormatErrorMessage));return o.setState({emailTo:z(z({},o.state.emailTo),{},{value:e,isValid:t,showError:!t,errorMessage:n})}),t})),K(Y(o),"openDownloadFormatPopup",(function(e){e&&e.stopPropagation(),o.setState({showPopup:!0,popupName:f.P.downloadFormat,formatSelection:z(z({},o.state.formatSelection),{},{value:f.Y.pdf})})})),K(Y(o),"closeDownloadFormatPopup",(function(){o.setState({showPopup:!1,popupName:"",formatSelection:z(z({},o.state.formatSelection),{},{value:f.Y.pdf})})})),K(Y(o),"onDownloadConfirmClick",(function(e){e&&e.stopPropagation(),o.closeDownloadFormatPopup();var t=o.state.formatSelection.value,n=o.user.Role.toLowerCase();U.CommonHelper.isNullOrWhitespace(t)||(t===f.Y.text?o.downloadResume(f.Y.text,!1,"guest"==n):"guest"==n?(y.U(o.props.document.id,f.kb.download,t),o.props.history.push(x.c[f.G.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.downloadResume(t,!1):(y.U(o.props.document.id,f.kb.download,t),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10)))})),K(Y(o),"downloadResume",(function(e,t,n){var a=o.user.UserUID,i=o.props.document.id,r="".concat(U.CommonHelper.isNullOrWhitespace(o.props.document.name)?BLDR.Localization.resume_Label:o.props.document.name,".").concat(e.toUpperCase()),s=BLDR.Portal.portalId,l=BLDR.styleSheetName;if(BLDR.isMultiColumnSkin(o.state.selectedSkin)&&(l=BLDR.multiColumnStyleSheetName),e===f.Y.text)if(n){var c={userId:o.user.UserUID,documentId:i,portalId:BLDR.Portal.portalId,fileType:"oRIG",isText:!0};o.props.documentActions.getHtml(c).then((function(e){e&&y.P(r,e)}))}else o.props.documentActions.DownloadDocument(a,i,s,"txt","eXPT","RBtoText",!0,!1).then((function(e){e&&(window.location.href=e)}));else if(t){var u=y.Q("",800,640,"location=No,scrollbars=Yes,toolbar=No,resizable=No,directories=No,status=No,menubar=No,hotkeys=No,center=Yes",!1);o.props.documentActions.DownloadDocument(a,i,s,"pdf","eXPT",l,!0,!0).then((function(e){e&&(u.location=e)}))}else o.props.documentActions.DownloadDocument(a,i,s,e,"eXPT",l,!0,!1).then((function(e){e&&(window.location.href=e)}))})),K(Y(o),"openResumeOptionsPopup",(function(){o.setState({showPopup:!0,popupName:f.P.mobileResumeOptions})})),K(Y(o),"closeResumeOptionsPopup",(function(){o.setState({showPopup:!1,popupName:""})})),K(Y(o),"openEmailPopup",(function(e){e&&e.stopPropagation(),"guest"==o.user.Role.toLowerCase()?(y.U(o.props.document.id,f.kb.email),o.props.history.push(x.c[f.G.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.setState({showPopup:!0,popupName:f.P.email,emailTo:f.A,emailFrom:z(z({},f.y),{},{value:y.A(),isValid:!0}),emailSubject:f.z,emailBody:""}):(y.U(o.props.document.id,f.kb.email),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10))})),K(Y(o),"closeEmailPopup",(function(){o.setState({showPopup:!1,popupName:"",emailTo:f.A,emailFrom:f.y,emailSubject:f.z,emailBody:""})})),K(Y(o),"onEmailConfirmClick",(function(e){e&&e.stopPropagation();var t=o.validateEmailFrom(o.state.emailFrom.value),n=o.validateEmailTo(o.state.emailTo.value);t&&n&&(o.closeEmailPopup(),o.openEmailSentPopup(),o.sendEmail())})),K(Y(o),"sendEmail",(function(){var e=BLDR.styleSheetName;BLDR.isMultiColumnSkin(o.state.selectedSkin)&&(e=BLDR.multiColumnStyleSheetName);var t="\n    <h1 style='color:#f96d1b;font-size:40px;font-weight:100;font-family: sans-serif;line-height:0px;'>\n    Resume<b style='font-weight:800;'>Genius</b></h1><p style='color:gray;'>The world's smartest resume builder</p>"+(U.CommonHelper.isNullOrWhitespace(o.state.emailBody)?"":o.state.emailBody),n=U.CommonHelper.isNullOrWhitespace(o.state.emailSubject.value)?BLDR.Localization.noSubjectText:o.state.emailSubject.value,a=U.CommonHelper.isNullOrWhitespace(o.state.emailFrom.value)?y.A(o.props.document):o.state.emailFrom.value,i=o.state.emailTo.value,r={documentId:o.props.document.id,userId:o.user.UserUID,portalId:BLDR.Portal.portalId,displayName:a,styleSheetName:e,frmEmail:a,fileFormatType:"PDF",toEmail:i,subject:n,mailBody:t,emailName:"EmailResume"};o.props.documentActions.EmailDocument(r)})),K(Y(o),"openEmailSentPopup",(function(){o.setState({showPopup:!0,popupName:f.P.emailSent})})),K(Y(o),"closeEmailSentPopup",(function(){o.setState({showPopup:!1,popupName:""})})),K(Y(o),"onPrintClick",(function(e){e&&e.stopPropagation(),o.closeResumeOptionsPopup(),"guest"==o.user.Role.toLowerCase()?(y.U(o.props.document.id,f.kb.print,f.Y.pdf),o.props.history.push(x.c[f.G.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.downloadResume(f.Y.pdf,!1):(y.U(o.props.document.id,f.kb.print,f.Y.pdf),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10))})),K(Y(o),"getPopupProps",(function(e){var t=z({},f.Q[e]);switch(e){case f.P.resumePreview:t.closeModal=o.closeResumePreviewPopup;break;case f.P.downloadFormat:t.onPrimaryClick=o.closeDownloadFormatPopup,t.onSecondaryClick=o.onDownloadConfirmClick,t.closeModal=o.closeDownloadFormatPopup;break;case f.P.mobileResumeOptions:t.closeModal=o.closeResumeOptionsPopup;break;case f.P.email:t.onPrimaryClick=o.closeEmailPopup,t.onSecondaryClick=o.onEmailConfirmClick,t.closeModal=o.closeEmailPopup;break;case f.P.emailSent:t.closeModal=o.closeEmailSentPopup}return t})),o.refObj={},o.displayDesktopView=!BLDR.isIPAD()&&!BLDR.IsMobileDevice(),o.isUpdatedBuilderExp=y.L(),document.body.classList.add("finalize-page"),o.displayDesktopView&&document.body.classList.add("desktop-finalize-view"),o.user=y.B();var n=o.getSkinsObject().findIndex((function(t){return t.skinCD==e.document.skinCD}))>-1?e.document.skinCD:BLDR.defaultSkin,a=!1,s=U.CommonHelper.getStorageValue("common");if(null!=s&&s.length>0){var l=s.find((function(e){return e[f.ab.showSideNav]}));l&&(a=l[f.ab.showSideNav])}return o.state={showNav:a,skins:o.getSkinsObject(),selectedSkin:n,popupName:"",showPopup:!1,isPremiumUser:!1,showLoader:!0,showPreviewLoader:!0,showEditMyResumeToolTip:!1,formatSelection:f.E,emailTo:f.A,emailFrom:f.y,emailSubject:f.z,emailBody:""},o}return t=r,(o=[{key:"componentDidMount",value:function(){var e=this,t=this.state.selectedSkin,o=this.state.skins.findIndex((function(e){return e.skinCD==t}));this.displayDesktopView?this.setMultipleDesktopTemplates(t,!0):this.setMobileTemplate(t,!0),this.refObj.slider.slickGoTo(o,!0),this.props.userActions.IsPremiumUser(this.user.UserUID,BLDR.PortalSettings.ConfigureProductId).then((function(t){e.setState({isPremiumUser:t})})),this.props.saveUserStages(f.lb.Finalize),this.saveLatestJobTitlePreference(this.props.document),this.saveJobLocationUserPreference(this.props.document),document.body.classList.remove("no-ads")}},{key:"componentDidUpdate",value:function(e,t){var o=this.state.selectedSkin;o!=t.selectedSkin&&(this.displayDesktopView?this.setDesktopTemplate(o):this.setMobileTemplate(o))}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("finalize-page"),document.body.classList.remove("desktop-finalize-view"),document.body.classList.remove("popup-body-no-scroll"),window.removeEventListener("resize",this.rescaleVisibleSkins)}},{key:"render",value:function(){this.state.showNav&&!document.body.classList.contains("popup-body-no-scroll")?document.body.classList.add("popup-body-no-scroll"):this.state.showNav||document.body.classList.remove("popup-body-no-scroll");var e=this.displayDesktopView?this.onMultipleSkinsColorClick:this.onSkinColorClick,t=this.displayDesktopView?this.onMultipleSkinsFormattingOptionClick:this.onFormattingOptionClick;return a.a.createElement(L,M({},this.props,{state:this.state,assignRef:this.assignRef,toggleSidenav:this.toggleSidenav,onNextClick:this.onNextClick,beforeChange:this.beforeChange,openResumePreviewPopup:this.openResumePreviewPopup,closeResumePreviewPopup:this.closeResumePreviewPopup,onEditMyResumeToolTipClose:this.onEditMyResumeToolTipClose,displayDesktopView:this.displayDesktopView,skinColor:this.getColorForColorSelector(),onSkinColorClick:e,formattingOptionSelected:this.getSelectedFormattingOption(),onFormattingOptionClick:t,getPopupProps:this.getPopupProps,onSelectClick:this.onSelectClick,txtOnChange:this.txtOnChange,txtOnBlur:this.txtOnBlur,openDownloadFormatPopup:this.openDownloadFormatPopup,openEmailPopup:this.openEmailPopup,closeEmailSentPopup:this.closeEmailSentPopup,onPrintClick:this.onPrintClick,isUpdatedBuilderExp:this.isUpdatedBuilderExp}))}}])&&V(t.prototype,o),n&&V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Component)}}]);